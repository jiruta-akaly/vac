<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="robots" content="noindex,nofollow">

		<!-- ビューポートの設定 -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- スタイルシートの読み込み -->
		<link href="base.css" rel="stylesheet">

		<title>Crypto-jsを用いた暗号化</title>
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
		<script src="test.js"></script>
		
		<script type="text/javascript">
		//暗号・復号テスト
		function crypto() {
			var src = $("#txtHirabun").val();
			var des = "";
			
			//暗号化キー:"key"を用いて暗号化
			des = CryptoJS.AES.encrypt(src, key);
			
			$("#lblHirabun").html('Source  :' + escapeHTML(src));
			$("#lblAngoubun").html('Crypto  :' + des);
			
			//暗号化キー:"testkey"を用いて復号化
			var decrypted = CryptoJS.AES.decrypt(des, key).toString(CryptoJS.enc.Utf8);
			$("#lblFukugoubun").html('EnCrypto:' + escapeHTML(decrypted));
		}
		
		function escapeHTML(string){
			return string.replace(/&/g, '&lt;')
			.replace(/</g, '&lt;')
			.replace(/>/g, '&gt;')
			.replace(/"/g, '&quot;')
			.replace(/'/g, "&#x27;");
		}
		</script>
	</head>
<body>



<h1 style="text-align:center;color:#d36015;">Crypto-jsを用いた暗号化</h1>

<HR style="margin: 3em 0 ;">

<button onclick="crypto();">crypto</button></br>
<input type="text" id="txtHirabun" name="txtHirabun" /></br>
<label id="lblHirabun"></label></br>
<label id="lblAngoubun"></label></br>
<label id="lblFukugoubun"></label>
<HR style="margin: 3em 0 ;">

</body>
</html>
